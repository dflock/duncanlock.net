= Setting up the venv

This site is using https://docs.getpelican.com/[Pelican] & and python venv.

To set up or recreate the venv:

[source,console]
----
$ rm -rf ~/venv/duncanlock.net-venv
$ python3 -m venv ~/venv/duncanlock.net-venv
$ source ~/venv/duncanlock.net-venv/bin/activate
$ pip --version
$ python --version
----

To install dependencies into the venv:

[source,console]
----
$ python -m pip -r requirements-venv.txt
----

To run a debug build:

[source,console]
----
$ rm -f ./cache/* && pelican --delete-output-directory --debug &> ~/tmp/pelican-debug-output.log
----

To publish the site to s3:

[source,console]
----
$ rm -f ./cache/* && rm -rf ./output
$ make publish
# have a look at the /output, then:
$ make s3_upload
----
